!function o(r,i,a){function s(t,e){if(!i[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},r[t][0].call(n.exports,function(e){return s(r[t][1][e]||e)},n,n.exports,o,r,i,a)}return i[t].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){var o=e("./modules/utils.js"),r=e("./modules/focus-watcher.js"),i=e("./modules/element-watcher.js"),a=e("./modules/string-buffer.js"),s=e("./modules/matcher.js"),c=e("./modules/replace.js"),u=e("./modules/State.js");r.on("change",function(e){o.isElementEmojiEligible(e)?i.changeElement(e):i.changeElement(null)}),i.on("rebind",a.clear),i.element.on("keydown",a.handleKeyDown),i.element.on("keypress",function(e){a.handleKeyPress(e)}),i.element.on("blur",a.clear),i.element.on("click",a.clear),a.on("clear",function(){s.reset()}),a.on("break",s.checkMatch),a.on("change",function(e){u.getBehavior("active")&&s.update(e)}),s.on("match",c),s.on("flags_down",a.clear),e("./modules/state.js")},{"./modules/State.js":2,"./modules/element-watcher.js":3,"./modules/focus-watcher.js":4,"./modules/matcher.js":6,"./modules/replace.js":7,"./modules/state.js":9,"./modules/string-buffer.js":10,"./modules/utils.js":11}],2:[function(e,o,t){var r,e=e("event-emitter"),i={active:!0,shortcodes:!0,coloncodes:!0,copy:!1,reload:{}};o.exports=((r=e()).getBehavior=function(e){return i[e]},r.setBehavior=function(e,t){for(var n in e)n in i&&e[n]!==i[n]&&(i[n]=e[n],t||r.emit("behavior_change",n,i[n]))},r),-1!==window.location.hostname.indexOf("facebook")&&o.exports.setBehavior({copy:!0,shortcodes:!1},!0),chrome.storage.local.get({active:!0},function(e){o.exports.setBehavior({active:!!e.active})}),chrome.runtime.onMessage.addListener(function(e,t,n){"update_behavior"==e.id&&o.exports.setBehavior(e.data)}),chrome.storage.local.get("_saved_codes",function(e){e._saved_codes&&(e=JSON.parse(e._saved_codes),o.exports.setBehavior({reload:e}))})},{"event-emitter":28}],3:[function(e,t,o){var n=e("event-emitter"),r=["keydown","keypress","keyup","blur","click"];function i(e){this.domElement=e,this.boundEvents=[]}i.prototype={addEvent:function(e,t){this.domElement.addEventListener(e,t),this.boundEvents.push([e,t])},clearEvents:function(){for(var e=this.boundEvents.length-1;0<=e;e--){var t=this.boundEvents[e];this.domElement.removeEventListener(t[0],t[1]),this.boundEvents.splice(e,1)}},destroy:function(){this.destroyed||(this.clearEvents(),this.domElement=null,this.boundEvents=null,this.destroyed=!0)}};var a,s,e=(a=null,s=n(),o.changeElement=function(e){var t=null,n=null;a&&(t=a.domElement,a.destroy(),a=null),e&&(function(e){for(var t=0;t<r.length;t++)e.addEvent(r[t],function(e){s.emit(e.type,e)})}(a=new i(e)),n=a.domElement),o.emit("rebind",n,t)},o.getElement=function(){return a&&a.domElement},o.element=s,o);n(e),t.exports=e},{"event-emitter":28}],4:[function(e,t,n){var o=e("event-emitter")(),r=null;setInterval(function(){document.activeElement!==r&&(r=document.activeElement,o.emit("change",r))},400),t.exports=o},{"event-emitter":28}],5:[function(e,t,n){t.exports={codes:{left:37,up:38,right:39,down:40,backspace:8,tab:9,enter:13,escape:27,space:32},isArrowKey:function(e){return e>=this.codes.left&&e<=this.codes.down}}},{}],6:[function(e,t,n){var o,r,i,a=e("event-emitter"),s=e("./shortcodes.js"),c=e("./state.js");function u(){r.shortcode=!1,r.colonStart=!1,r.coloncode=!1,o.emit("flags_update",r)}function l(e){i=e||[],o.emit("coloncode_update",i)}t.exports=(o=a(),r={},i=[],o.reset=function(){u(),l(null)},o.checkMatch=function(e){var t;if(!r.shortcode||null!==(t=s.get(r.shortcode))&&o.emit("match",t),r.coloncode)for(var n=0;n<i.length;n++)i[n][1]===r.coloncode&&o.emit("match",i[n][0])},o.update=function(e){var t;t=e,c.getBehavior("coloncodes")&&(1===t.length&&":"===t[0]&&(r.colonStart=!0),r.colonStart&&(r.coloncode=!(null===(e=(e=t).match(/^\:([a-z0-9\-]{3,})\:?$/))||!e.length)&&e[1])),c.getBehavior("shortcodes")&&(r.shortcode=!!s.isPart(t)&&t),o.emit("flags_update",r),(t=!(t=!0)===r.shortcode&&!0!==r.colonStart&&!1===r.coloncode&&t)?o.emit("flags_down"):r.coloncode?(t=r.coloncode,chrome.runtime.sendMessage({id:"get_coloncodes",search:t},function(e){l(e)})):l(null)},u(),o)},{"./shortcodes.js":8,"./state.js":9,"event-emitter":28}],7:[function(e,t,n){var r=e("./state.js"),i=e("./utils.js"),a=e("./element-watcher.js"),s=e("./string-buffer.js");t.exports=function(n){var t=a.getElement(),e=s.getBuffer(),o=r.getBehavior("copy");if(!t)return!1;t.hasAttribute("contenteditable")?(o&&i.clipWithSelection(n),i.searchSelection(e,function(e){var t=e.selection.getRangeAt(e.selection.rangeCount-1);t.setStart(e.node,e.start),t.setEnd(e.node,e.end),o||(t.deleteContents(),t.insertNode(document.createTextNode(n)),e.node.parentNode&&e.node.parentNode.normalize(),e.selection.collapseToEnd())})):i.searchInput(t,e,function(e){o?(i.clipWithSelection(n),t.selectionStart=e.start,t.selectionEnd=e.end):(t.value=e.before+n+e.after,t.selectionEnd=e.before.length+n.length)}),s.clear()}},{"./element-watcher.js":3,"./state.js":9,"./string-buffer.js":10,"./utils.js":11}],8:[function(e,t,n){var o=e("./state.js"),r=e("../shortcodes");t.exports=((t={}).isPart=function(e){for(var t=function(e){var t,n=[];for(t in e)for(var o=0;o<t.length;o++)n[o]=n[o]||[],-1===n[o].indexOf(t[o])&&n[o].push(t[o]);return n}(r),n=e.length-1;0<=n;n--)if(!t[n]||-1===t[n].indexOf(e[n]))return!1;return!0},t.get=function(e){return r[e]||null},t.getAll=function(){return r},t),o.on("behavior_change",function(e,t){"reload"==e&&(r=Object.assign(r,t))})},{"../shortcodes":12,"./state.js":9}],9:[function(e,t,n){arguments[4][2][0].apply(n,arguments)},{dup:2,"event-emitter":28}],10:[function(e,n,t){var o,r,i=e("event-emitter"),a=e("./state.js"),s=(e("./utils.js"),e("./keys.js"));function c(e,t){var n=r;(r=e(r))!==n&&"string"==typeof r&&(!0!==t&&o.emit("change",r,n),0===r.length&&o.emit("clear"))}n.exports=(o=i(),r="",o.clear=function(){c(function(){return""},!0)},o.handleKeyPress=function(t){c(function(e){return t.which!==s.codes.space?e+t.key:e})},o.handleKeyDown=function(e){if(e.which===s.codes.enter||e.which===s.codes.space)return o.emit("break",r),void o.clear();!s.isArrowKey(e.which)&&window.getSelection().isCollapsed?e.which===s.codes.backspace&&c(function(e){return e.slice(0,-1)}):o.clear()},o.getBuffer=function(){return r},o),a.on("behavior_change",function(e,t){"active"==e&&0==t&&n.exports.clear()})},{"./keys.js":5,"./state.js":9,"./utils.js":11,"event-emitter":28}],11:[function(e,t,n){var r=e("textarea-caret");t.exports={searchInput:function(e,t,n){if(!e||"string"!=typeof e.value||"number"!=typeof e.selectionEnd)return!1;var o=e.value,r=e.selectionEnd,e=r-t.length;return!(e<0||r<e||o.substring(e,r)!=t)&&n({start:e,end:r,before:o.substring(0,e),after:o.substring(r)})},searchSelection:function(e,t){var n=window.getSelection();if(!n||!n.focusNode||!n.focusNode.nodeValue)return!1;var o=n.focusNode,r=n.focusOffset,i=r-e.length;return!(i<0||r<i||0==n.rangeCount||o.nodeValue.substring(i,r)!=e)&&t({selection:n,node:o,start:i,end:r})},isElementEditable:function(e){return e&&(e.hasAttribute("contenteditable")||"TEXTAREA"===e.tagName||"INPUT"===e.tagName)},isElementEmojiEligible:function(e){var t=["email","password","tel"],n=e.getAttribute("type"),o=e.getAttribute("name");return this.isElementEditable(e)&&-1==t.indexOf(n)&&-1==t.indexOf(o)},getElementBodyOffset:function(e){var t=e.getBoundingClientRect(),n=document.documentElement.scrollTop+document.body.scrollTop,o=document.documentElement.scrollLeft+document.body.scrollLeft,r=e,i={top:0,left:0,fixed:!1};do{var a=window.getComputedStyle(r);if(a&&"fixed"==a.position){i.fixed=!0;break}}while(r=r.offsetParent);return i.top=t.top,i.left=t.left,i.fixed||(i.top+=n,i.left+=o),i},getElementCaretOffset:function(e){var t,n,o=null;return e.hasAttribute("contenteditable")?(n=(t=window.getSelection()).getRangeAt(t.rangeCount-1).cloneRange(),t=document.createElement("span"),n.insertNode(t),o=this.getElementBodyOffset(t),(n=t.parentNode).removeChild(t),n.normalize()):(o=this.getElementBodyOffset(e),n=r(e,e.selectionEnd),o.top+=n.top-e.scrollTop,o.left+=n.left),o},clipWithInput:function(e){var t=document.createElement("input");document.body.appendChild(t),t.addEventListener("focus",function(e){e.preventDefault(),e.stopPropagation()}),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)},clipWithSelection:function(e){var t=document.createTextNode(e),n=window.getSelection(),o=document.createRange(),e=null;0<n.rangeCount&&(e=n.getRangeAt(n.rangeCount-1).cloneRange()),document.body.appendChild(t),n.removeAllRanges(),o.selectNodeContents(t),n.addRange(o),document.execCommand("copy"),n.removeAllRanges(),document.body.removeChild(t),null!==e&&n.addRange(e)}}},{"textarea-caret":29}],12:[function(e,t,n){t.exports={tian:"tianbao.zhao",xiao:"frank.xiaoquan.lin",xiaow:"will.xiaowei.nie",chao:"chaohong.liu",jia:"jialing.a.liu",bao:"bao.wang",xi:"xi.a.ren",tao:"tao.a.song",bin:"binbin.a.wang",ting:"t.n.wang",nan:"nanxuan.xie",wei:"arthur.wei.zhang",weih:"weihua.a.yang",ag:"hidefumi.agata",ar:"toshinori.araki",ya:"yash.dhongde",fu:"nobuhiro.fujii",ha:"harumi.hamaoka",iw:"yuki.iwasaki",ka:"ryosuke.a.kato",kay:"ichitaka.kayahara",ko:"hidehiro.konomi",ra:"rajan.kushwaha",lu:"taksau.luk",ma:"ryosuke.a.matsuura",mi:"yuki.mizuta",no:"kensaku.nogiwa",ok:"mayuko.okada",sh:"kenta.shiga",tb:"naoto.tsuboi",tj:"hidetoshi.tsujie",yam:"keisuke.yamane"}},{}],13:[function(e,t,n){"use strict";var a=e("type/value/is"),i=e("type/plain-function/is"),s=e("es5-ext/object/assign"),c=e("es5-ext/object/normalize-options"),u=e("es5-ext/string/#/contains");(t.exports=function(e,t){var n,o,r,i;return arguments.length<2||"string"!=typeof e?(r=t,t=e,e=null):r=arguments[2],a(e)?(n=u.call(e,"c"),o=u.call(e,"e"),i=u.call(e,"w")):o=!(n=i=!0),i={value:t,configurable:n,enumerable:o,writable:i},r?s(c(r),i):i}).gs=function(e,t,n){var o,r;return"string"!=typeof e?(r=n,n=t,t=e,e=null):r=arguments[3],a(t)?i(t)?a(n)?i(n)||(r=n,n=void 0):n=void 0:(r=t,t=n=void 0):t=void 0,e=a(e)?(o=u.call(e,"c"),u.call(e,"e")):!(o=!0),e={get:t,set:n,configurable:o,enumerable:e},r?s(c(r),e):e}},{"es5-ext/object/assign":15,"es5-ext/object/normalize-options":22,"es5-ext/string/#/contains":25,"type/plain-function/is":32,"type/value/is":34}],14:[function(e,t,n){"use strict";t.exports=function(){}},{}],15:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":16,"./shim":17}],16:[function(e,t,n){"use strict";t.exports=function(){var e=Object.assign;return"function"==typeof e&&(e(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],17:[function(e,t,n){"use strict";var a=e("../keys"),s=e("../valid-value"),c=Math.max;t.exports=function(t,n){var o,e,r,i=c(arguments.length,2);for(t=Object(s(t)),r=function(e){try{t[e]=n[e]}catch(e){o=o||e}},e=1;e<i;++e)a(n=arguments[e]).forEach(r);if(void 0!==o)throw o;return t}},{"../keys":19,"../valid-value":24}],18:[function(e,t,n){"use strict";var o=e("../function/noop")();t.exports=function(e){return e!==o&&null!==e}},{"../function/noop":14}],19:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":20,"./shim":21}],20:[function(e,t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],21:[function(e,t,n){"use strict";var o=e("../is-value"),r=Object.keys;t.exports=function(e){return r(o(e)?Object(e):e)}},{"../is-value":18}],22:[function(e,t,n){"use strict";var o=e("./is-value"),r=Array.prototype.forEach,i=Object.create;t.exports=function(e){var t=i(null);return r.call(arguments,function(e){o(e)&&function(e,t){for(var n in e)t[n]=e[n]}(Object(e),t)}),t}},{"./is-value":18}],23:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],24:[function(e,t,n){"use strict";var o=e("./is-value");t.exports=function(e){if(!o(e))throw new TypeError("Cannot use null or undefined");return e}},{"./is-value":18}],25:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":26,"./shim":27}],26:[function(e,t,n){"use strict";var o="razdwatrzy";t.exports=function(){return"function"==typeof o.contains&&(!0===o.contains("dwa")&&!1===o.contains("foo"))}},{}],27:[function(e,t,n){"use strict";var o=String.prototype.indexOf;t.exports=function(e){return-1<o.call(this,e,arguments[1])}},{}],28:[function(e,t,n){"use strict";var o=e("d"),a=e("es5-ext/object/valid-callable"),s=Function.prototype.apply,c=Function.prototype.call,r=Object.create,i=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0},f=function(e,t){var n;return a(t),l.call(this,"__ee__")?n=this.__ee__:(n=d.value=r(null),i(this,"__ee__",d),d.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},h=function(e,t){var n,o;return a(t),o=this,f.call(this,e,n=function(){p.call(o,e,n),s.call(t,this,arguments)}),n.__eeOnceListener__=t,this},p=function(e,t){var n,o,r,i;if(a(t),!l.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(o=n[e]))for(i=0;r=o[i];++i)r!==t&&r.__eeOnceListener__!==t||(2===o.length?n[e]=o[i?0:1]:o.splice(i,1));else o!==t&&o.__eeOnceListener__!==t||delete n[e];return this},m=function(e){var t,n,o,r,i;if(l.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];for(r=r.slice(),t=0;o=r[t];++t)s.call(o,this,i)}else switch(arguments.length){case 1:c.call(r,this);break;case 2:c.call(r,this,arguments[1]);break;case 3:c.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];s.call(r,this,i)}},e={on:f,once:h,off:p,emit:m},v={on:o(f),once:o(h),off:o(p),emit:o(m)},g=u({},v);t.exports=n=function(e){return null==e?r(g):u(Object(e),v)},n.methods=e},{d:13,"es5-ext/object/valid-callable":23}],29:[function(e,t,n){function o(e,t,n){if(!u)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var o=n&&n.debug||!1;!o||(s=document.querySelector("#input-textarea-caret-position-mirror-div"))&&s.parentNode.removeChild(s);n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,a="INPUT"===e.nodeName;r.whiteSpace="pre-wrap",a||(r.wordWrap="break-word"),r.position="absolute",o||(r.visibility="hidden"),c.forEach(function(e){a&&"lineHeight"===e?r.lineHeight=i.height:r[e]=i[e]}),l?e.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=e.value.substring(0,t),a&&(n.textContent=n.textContent.replace(/\s/g," "));var s=document.createElement("span");s.textContent=e.value.substring(t)||".",n.appendChild(s);t={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),height:parseInt(i.lineHeight)};return o?s.style.backgroundColor="#aaa":document.body.removeChild(n),t}var c,u,l;c=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],u="undefined"!=typeof window,l=u&&null!=window.mozInnerScreenX,void 0!==t&&void 0!==t.exports?t.exports=o:u&&(window.getCaretCoordinates=o)},{}],30:[function(e,t,n){"use strict";var o=e("../prototype/is");t.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!o(e)}},{"../prototype/is":33}],31:[function(e,t,n){"use strict";var o=e("../value/is"),r={object:!0,function:!0,undefined:!0};t.exports=function(e){return!!o(e)&&hasOwnProperty.call(r,typeof e)}},{"../value/is":34}],32:[function(e,t,n){"use strict";var o=e("../function/is"),r=/^\s*class[\s{/}]/,i=Function.prototype.toString;t.exports=function(e){return!!o(e)&&!r.test(i.call(e))}},{"../function/is":30}],33:[function(e,t,n){"use strict";var o=e("../object/is");t.exports=function(e){if(!o(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch(e){return!1}}},{"../object/is":31}],34:[function(e,t,n){"use strict";t.exports=function(e){return null!=e}},{}]},{},[1]);
//# sourceMappingURL=content.js.map
